{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from \"axios\";\n\naxios.defaults.headers.common[\"x-api-key\"] = \"live_Kc3PvDtHRk4eDbn3uRz4Up5bwgciWixWGmbxgznRlcrY2jsdJHQvUa43F0x0XNT4\";\n\nexport function fetchBreeds() {\n  return axios.get(\"https://api.thecatapi.com/v1/breeds\")\n    .then(response => response.data)\n    .catch(error => {\n      throw error;\n    });\n}\n\nexport function fetchCatByBreed(breedId) {\n  const url = `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`;\n  return axios.get(url)\n    .then(response => response.data)\n    .catch(error => {\n      throw error;\n    });\n}","import { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nconst selectEl = document.querySelector('.breed-select');\nconst textLoader = document.querySelector('.loader');\nconst textError = document.querySelector('.error');\nconst containerInfo = document.querySelector('.cat-info');\n\nselectEl.addEventListener('change', handleOption);\n\nasync function getBreeds() {\n  try {\n    selectEl.classList.add('hidden');\n    textLoader.classList.remove('hidden');\n    const result = await fetchBreeds();\n    console.log('getBreeds: ', result);\n    if (result) {\n      selectEl.classList.remove('hidden');\n    }\n    return result;\n  } catch (error) {\n    console.log(error);\n    textError.classList.remove('hidden');\n  } finally {\n    textLoader.classList.add('hidden');\n  }\n}\n\ngetBreeds()\n  .then(data => {\n    return data\n      .map(cat => {\n        const markup = `<option value=${cat.id} key=${cat.id}>${cat.name}</option>`;\n        selectEl.insertAdjacentHTML('beforeend', markup);\n      })\n      .join('');\n  })\n  .catch(error => {\n    console.log(error);\n    textError.classList.remove('hidden');\n  });\n\nasync function getCatByBreed(breedId) {\n  try {\n    selectEl.classList.add('hidden');\n    containerInfo.classList.add('hidden');\n    textError.classList.add('hidden');\n    textLoader.classList.remove('hidden');\n    const result = await fetchCatByBreed(breedId);\n    if (result) {\n      selectEl.classList.remove('hidden');\n      containerInfo.classList.remove('hidden');\n    }\n    return result;\n  } catch (error) {\n    console.log(error);\n    textError.classList.remove('hidden');\n  } finally {\n    textLoader.classList.add('hidden');\n  }\n}\n\nfunction handleOption(evt) {\n  evt.preventDefault();\n  const breedId = evt.target.value;\n  getCatByBreed(breedId)\n    .then(cat => {\n      containerInfo.innerHTML = '';\n      console.log('Cat by breed: ', cat[0]);\n      const markup = `<div style=\"display: flex; flex-direction: row\">\n        <div\n          style=\"\n            margin-top: 30px;\n            margin-right: 30px;\n            width: 350px;\n            background-color: grey;\n            border-radius: 4px 4px 4px 4px;\n            box-shadow: 0px 2px 1px 0px rgba(46, 47, 66, 0.08),\n              0px 1px 1px 0px rgba(46, 47, 66, 0.16),\n              0px 1px 6px 0px rgba(46, 47, 66, 0.08);\n              overflow: hidden;\n          \"\n        >\n          <img\n            src=${cat[0].url}\n            alt=${cat[0].breeds[0].name}\n            style=\"\n              display: block;\n              width: 100%;\n            \"\n          />\n        </div>\n        <div style=\"display: block; margin-top: 30px\">\n          <h1 style=\"font-size: x-large; font-weight: 700; margin-bottom: 16px\">\n            ${cat[0].breeds[0].name}\n          </h1>\n          <p style=\"margin-bottom: 12px\">${cat[0].breeds[0].description}</p>\n          <p>\n            <span style=\"font-weight: 700; padding-right: 8px\">Temperament:</span>${cat[0]?.breeds[0]?.temperament}\n          </p>\n        </div>\n      </div>`;\n      if (cat) {\n        containerInfo.classList.remove('hidden');\n      }\n      containerInfo.innerHTML = markup;\n    })\n    .catch(error => {\n      console.log(error);\n      textError.classList.remove('hidden');\n    });\n}\n\n"],"names":["axios","fetchBreeds","response","error","fetchCatByBreed","breedId","url","selectEl","textLoader","textError","containerInfo","handleOption","getBreeds","result","data","cat","markup","getCatByBreed","evt","_b","_a"],"mappings":"svBAEAA,EAAM,SAAS,QAAQ,OAAO,aAAe,wEAEtC,SAASC,GAAc,CAC5B,OAAOD,EAAM,IAAI,qCAAqC,EACnD,KAAKE,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAAS,CACd,MAAMA,CACZ,CAAK,CACL,CAEO,SAASC,EAAgBC,EAAS,CACvC,MAAMC,EAAM,wDAAwDD,IACpE,OAAOL,EAAM,IAAIM,CAAG,EACjB,KAAKJ,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAAS,CACd,MAAMA,CACZ,CAAK,CACL,CCjBA,MAAMI,EAAW,SAAS,cAAc,eAAe,EACjDC,EAAa,SAAS,cAAc,SAAS,EAC7CC,EAAY,SAAS,cAAc,QAAQ,EAC3CC,EAAgB,SAAS,cAAc,WAAW,EAExDH,EAAS,iBAAiB,SAAUI,CAAY,EAEhD,eAAeC,GAAY,CACzB,GAAI,CACFL,EAAS,UAAU,IAAI,QAAQ,EAC/BC,EAAW,UAAU,OAAO,QAAQ,EACpC,MAAMK,EAAS,MAAMZ,IACrB,eAAQ,IAAI,cAAeY,CAAM,EAC7BA,GACFN,EAAS,UAAU,OAAO,QAAQ,EAE7BM,CACR,OAAQV,EAAP,CACA,QAAQ,IAAIA,CAAK,EACjBM,EAAU,UAAU,OAAO,QAAQ,CACvC,QAAY,CACRD,EAAW,UAAU,IAAI,QAAQ,CAClC,CACH,CAEAI,EAAW,EACR,KAAKE,GACGA,EACJ,IAAIC,GAAO,CACV,MAAMC,EAAS,iBAAiBD,EAAI,UAAUA,EAAI,MAAMA,EAAI,gBAC5DR,EAAS,mBAAmB,YAAaS,CAAM,CACvD,CAAO,EACA,KAAK,EAAE,CACX,EACA,MAAMb,GAAS,CACd,QAAQ,IAAIA,CAAK,EACjBM,EAAU,UAAU,OAAO,QAAQ,CACvC,CAAG,EAEH,eAAeQ,EAAcZ,EAAS,CACpC,GAAI,CACFE,EAAS,UAAU,IAAI,QAAQ,EAC/BG,EAAc,UAAU,IAAI,QAAQ,EACpCD,EAAU,UAAU,IAAI,QAAQ,EAChCD,EAAW,UAAU,OAAO,QAAQ,EACpC,MAAMK,EAAS,MAAMT,EAAgBC,CAAO,EAC5C,OAAIQ,IACFN,EAAS,UAAU,OAAO,QAAQ,EAClCG,EAAc,UAAU,OAAO,QAAQ,GAElCG,CACR,OAAQV,EAAP,CACA,QAAQ,IAAIA,CAAK,EACjBM,EAAU,UAAU,OAAO,QAAQ,CACvC,QAAY,CACRD,EAAW,UAAU,IAAI,QAAQ,CAClC,CACH,CAEA,SAASG,EAAaO,EAAK,CACzBA,EAAI,eAAc,EAClB,MAAMb,EAAUa,EAAI,OAAO,MAC3BD,EAAcZ,CAAO,EAClB,KAAKU,GAAO,SACXL,EAAc,UAAY,GAC1B,QAAQ,IAAI,iBAAkBK,EAAI,EAAE,EACpC,MAAMC,EAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAeHD,EAAI,GAAG;AAAA,kBACPA,EAAI,GAAG,OAAO,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cASrBA,EAAI,GAAG,OAAO,GAAG;AAAA;AAAA,2CAEYA,EAAI,GAAG,OAAO,GAAG;AAAA;AAAA,qFAEwBI,GAAAC,EAAAL,EAAI,KAAJ,YAAAK,EAAQ,OAAO,KAAf,YAAAD,EAAmB;AAAA;AAAA;AAAA,cAI7FJ,GACFL,EAAc,UAAU,OAAO,QAAQ,EAEzCA,EAAc,UAAYM,CAChC,CAAK,EACA,MAAMb,GAAS,CACd,QAAQ,IAAIA,CAAK,EACjBM,EAAU,UAAU,OAAO,QAAQ,CACzC,CAAK,CACL"}